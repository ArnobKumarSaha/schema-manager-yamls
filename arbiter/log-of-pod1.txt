Defaulted container "mongodb" out of: mongodb, replication-mode-detector, copy-config (init)
root@mongodb-1:/# cat work-dir/log.txt
[2022-02-15T08:37:34,938392289+00:00] [replicaset.sh] Bootstrapping MongoDB replica set member: mongodb-1
[2022-02-15T08:37:34,939448874+00:00] [replicaset.sh] Reading standard input...
[2022-02-15T08:37:34,940480938+00:00] [replicaset.sh] Peers: mongodb-0.mongodb-pods.db.svc.cluster.local

[2022-02-15T08:37:34,941310178+00:00] [replicaset.sh] Waiting for MongoDB to be ready...
[2022-02-15T08:37:34,942317321+00:00] [replicaset.sh] Running command mongo --ipv6 --host localhost --eval db.adminCommand('ping') . . .
[2022-02-15T08:37:35,001178990+00:00] [replicaset.sh] MongoDB shell version v4.4.6
connecting to: mongodb://localhost:27017/?compressors=disabled&gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("12cac336-cc73-4de7-b89f-33d2435156b0") }
MongoDB server version: 4.4.6
{ "ok" : 1 }

[2022-02-15T08:37:35,009378674+00:00] [replicaset.sh] Running command mongo admin --ipv6 --host localhost --quiet --eval JSON.stringify(rs.isMaster()) . . .
[2022-02-15T08:37:35,070824973+00:00] [replicaset.sh] {"topologyVersion":{"processId":{"$oid":"620b6649afce94a85065d823"},"counter":{"$numberLong":"0"}},"ismaster":false,"secondary":false,"info":"Does not have a valid replica set config","isreplicaset":true,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"localTime":"2022-02-15T08:37:35.066Z","logicalSessionTimeoutMinutes":30,"connectionId":2,"minWireVersion":0,"maxWireVersion":9,"readOnly":false,"ok":1}
[2022-02-15T08:37:35,073852053+00:00] [replicaset.sh] Running command mongo admin --ipv6 --host mongodb-0.mongodb-pods.db.svc.cluster.local --quiet --eval JSON.stringify(rs.isMaster()) . . .
[2022-02-15T08:37:35,175620853+00:00] [replicaset.sh] {"topologyVersion":{"processId":{"$oid":"620b6632a3860709a0e4187e"},"counter":{"$numberLong":"6"}},"hosts":["mongodb-0.mongodb-pods.db.svc.cluster.local:27017"],"setName":"replicaset","setVersion":1,"ismaster":true,"secondary":false,"primary":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","me":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","electionId":{"$oid":"7fffffff0000000000000001"},"lastWrite":{"opTime":{"ts":{"$timestamp":{"t":1644914243,"i":4}},"t":{"$numberLong":"1"}},"lastWriteDate":"2022-02-15T08:37:23.000Z","majorityOpTime":{"ts":{"$timestamp":{"t":1644914243,"i":4}},"t":{"$numberLong":"1"}},"majorityWriteDate":"2022-02-15T08:37:23.000Z"},"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"localTime":"2022-02-15T08:37:35.172Z","logicalSessionTimeoutMinutes":30,"connectionId":50,"minWireVersion":0,"maxWireVersion":9,"readOnly":false,"ok":1,"$clusterTime":{"clusterTime":{"$timestamp":{"t":1644914243,"i":4}},"signature":{"hash":{"$binary":"DSf4itChJFyOZOeuvMKDXF0oLeQ=","$type":"00"},"keyId":{"$numberLong":"7064852852639793156"}}},"operationTime":{"$timestamp":{"t":1644914243,"i":4}}}
[2022-02-15T08:37:35,178651922+00:00] [replicaset.sh] Initialized.

[2022-02-15T08:37:40,348389184+00:00] [replicaset.sh] Running command mongo admin --ipv6 --host mongodb-0.mongodb-pods.db.svc.cluster.local -u root -p DQJFM9Fe&1_AyexN --authenticationDatabase admin --quiet --eval JSON.stringify(rs.isMaster()) . . .
[2022-02-15T08:37:40,395425148+00:00] [replicaset.sh] {"topologyVersion":{"processId":{"$oid":"620b6632a3860709a0e4187e"},"counter":{"$numberLong":"6"}},"hosts":["mongodb-0.mongodb-pods.db.svc.cluster.local:27017"],"setName":"replicaset","setVersion":1,"ismaster":true,"secondary":false,"primary":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","me":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","electionId":{"$oid":"7fffffff0000000000000001"},"lastWrite":{"opTime":{"ts":{"$timestamp":{"t":1644914257,"i":1}},"t":{"$numberLong":"1"}},"lastWriteDate":"2022-02-15T08:37:37.000Z","majorityOpTime":{"ts":{"$timestamp":{"t":1644914257,"i":1}},"t":{"$numberLong":"1"}},"majorityWriteDate":"2022-02-15T08:37:37.000Z"},"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"localTime":"2022-02-15T08:37:40.392Z","logicalSessionTimeoutMinutes":30,"connectionId":61,"minWireVersion":0,"maxWireVersion":9,"readOnly":false,"ok":1,"$clusterTime":{"clusterTime":{"$timestamp":{"t":1644914257,"i":1}},"signature":{"hash":{"$binary":"mmm1TNV52z0xjK2aAnXzww2eBro=","$type":"00"},"keyId":{"$numberLong":"7064852852639793156"}}},"operationTime":{"$timestamp":{"t":1644914257,"i":1}}}
[2022-02-15T08:37:40,443512959+00:00] [replicaset.sh] {"topologyVersion":{"processId":{"$oid":"620b6632a3860709a0e4187e"},"counter":{"$numberLong":"6"}},"hosts":["mongodb-0.mongodb-pods.db.svc.cluster.local:27017"],"setName":"replicaset","setVersion":1,"ismaster":true,"secondary":false,"primary":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","me":"mongodb-0.mongodb-pods.db.svc.cluster.local:27017","electionId":{"$oid":"7fffffff0000000000000001"},"lastWrite":{"opTime":{"ts":{"$timestamp":{"t":1644914257,"i":1}},"t":{"$numberLong":"1"}},"lastWriteDate":"2022-02-15T08:37:37.000Z","majorityOpTime":{"ts":{"$timestamp":{"t":1644914257,"i":1}},"t":{"$numberLong":"1"}},"majorityWriteDate":"2022-02-15T08:37:37.000Z"},"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"localTime":"2022-02-15T08:37:40.440Z","logicalSessionTimeoutMinutes":30,"connectionId":62,"minWireVersion":0,"maxWireVersion":9,"readOnly":false,"ok":1,"$clusterTime":{"clusterTime":{"$timestamp":{"t":1644914257,"i":1}},"signature":{"hash":{"$binary":"mmm1TNV52z0xjK2aAnXzww2eBro=","$type":"00"},"keyId":{"$numberLong":"7064852852639793156"}}},"operationTime":{"$timestamp":{"t":1644914257,"i":1}}}
[2022-02-15T08:37:40,446150146+00:00] [replicaset.sh] Found master: mongodb-0.mongodb-pods.db.svc.cluster.local
[2022-02-15T08:37:40,447117722+00:00] [replicaset.sh] Adding myself (mongodb-1.mongodb-pods.db.svc.cluster.local) to replica set...
[2022-02-15T08:37:40,448108178+00:00] [replicaset.sh] Running command mongo admin --ipv6 --host mongodb-0.mongodb-pods.db.svc.cluster.local -u root -p DQJFM9Fe&1_AyexN --authenticationDatabase admin --quiet --eval JSON.stringify(rs.add('mongodb-1.mongodb-pods.db.svc.cluster.local')) . . .
[2022-02-15T08:37:40,645589765+00:00] [replicaset.sh] {"operationTime":{"$timestamp":{"t":1644914257,"i":1}},"ok":0,"errmsg":"Quorum check failed because not enough voting nodes responded; required 2 but only the following 1 voting nodes responded: mongodb-0.mongodb-pods.db.svc.cluster.local:27017; the following nodes did not respond affirmatively: mongodb-1.mongodb-pods.db.svc.cluster.local:27017 failed with Error connecting to mongodb-1.mongodb-pods.db.svc.cluster.local:27017 :: caused by :: Could not find address for mongodb-1.mongodb-pods.db.svc.cluster.local:27017: SocketException: Host not found (authoritative)","code":74,"codeName":"NodeNotFound","$clusterTime":{"clusterTime":{"$timestamp":{"t":1644914257,"i":1}},"signature":{"hash":{"$binary":"mmm1TNV52z0xjK2aAnXzww2eBro=","$type":"00"},"keyId":{"$numberLong":"7064852852639793156"}}}}
[2022-02-15T08:37:41,653302058+00:00] [replicaset.sh] Running command mongo admin --ipv6 --host mongodb-0.mongodb-pods.db.svc.cluster.local -u root -p DQJFM9Fe&1_AyexN --authenticationDatabase admin --quiet --eval JSON.stringify(rs.add('mongodb-1.mongodb-pods.db.svc.cluster.local')) . . .
[2022-02-15T08:37:43,727676704+00:00] [replicaset.sh] {"ok":1,"$clusterTime":{"clusterTime":{"$timestamp":{"t":1644914261,"i":1}},"signature":{"hash":{"$binary":"+nBTujegNS7C1GpyufcxA9k+jHk=","$type":"00"},"keyId":{"$numberLong":"7064852852639793156"}}},"operationTime":{"$timestamp":{"t":1644914261,"i":1}}}
[2022-02-15T08:37:48,736819856+00:00] [replicaset.sh] Waiting for replica to reach SECONDARY state...
[2022-02-15T08:37:48,813302007+00:00] [replicaset.sh] âœ“ Replica reached SECONDARY state.
[2022-02-15T08:37:48,814294021+00:00] [replicaset.sh] Good bye.
